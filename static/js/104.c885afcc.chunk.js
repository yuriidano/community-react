"use strict";(self.webpackChunkreact_1=self.webpackChunkreact_1||[]).push([[104],{1104:(s,t,e)=>{e.r(t),e.d(t,{default:()=>R});var a=e(4420),o=e(2791);const r={postsTitle:"MyPosts_postsTitle__MOU-g",newPost:"MyPosts_newPost__RsHX5",area:"MyPosts_area__LXBtG",button:"MyPosts_button__tROL6",posts:"MyPosts_posts__1iPHK"},l="Post_post__2JC9L",i="Post_body__QBbNz",n="Post_avatar__NyR4X",d="Post_text__i9zxY",u="Post_button__N8b6e";var c=e(184);const p=s=>(0,c.jsxs)("div",{className:l,children:[(0,c.jsxs)("div",{className:i,children:[(0,c.jsx)("div",{className:n,children:(0,c.jsx)("img",{src:"https://mighty.tools/mockmind-api/content/human/57.jpg",alt:"avatar"})}),(0,c.jsx)("div",{className:d,children:s.message})]}),(0,c.jsxs)("button",{className:u,children:["like",s.likeCounter]})]});var _=e(6139);const m=(0,e(704).Z)({form:"myPost"})((s=>(0,c.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,c.jsx)("div",{children:(0,c.jsx)(_.Z,{component:"textarea",name:"myPosBody"})}),(0,c.jsx)("button",{children:"sent post"})]}))),h=o.memo((s=>{let[t,e]=(0,o.useState)(33);setTimeout((()=>{e(10)}),3e3),console.log("render");let a=[...s.posts].reverse().map((s=>(0,c.jsx)(p,{message:s.message,likeCounter:s.likeCounter},s.id)));return(0,c.jsxs)("div",{className:r.body,children:[(0,c.jsx)("div",{className:r.postsTitle,children:"My posts"}),(0,c.jsx)("div",{className:r.newPost,children:(0,c.jsx)(m,{onSubmit:t=>{s.addPost(t.myPosBody)}})}),(0,c.jsx)("div",{className:r.posts,children:a})]})}));var x=e(6070);const j=s=>(0,c.jsx)(h,{posts:s.posts}),f="Profile_profile__5Wt+s";var P=e(2026);const v="ProfileInfo_body__UihLj",g="ProfileInfo_avatar__KU7H-",y="ProfileInfo_info__ByPhh",N="ProfileInfo_name__pcQIG";var b=e(8478);const S=s=>{let[t,e]=(0,o.useState)(!1),[a,r]=(0,o.useState)(s.status);(0,o.useEffect)((()=>{r(s.status)}),[s.status]);return(0,c.jsxs)(c.Fragment,{children:[!t&&(0,c.jsx)("div",{children:(0,c.jsx)("span",{onClick:()=>{e(!0)},style:{backgroundColor:"gray"},children:s.status||"------"})}),t&&(0,c.jsx)("div",{children:(0,c.jsx)("input",{onChange:s=>{r(s.currentTarget.value)},autoFocus:!0,onBlur:()=>{e(!1),s.updateUserStatus(a)},type:"text",value:a})})]})},U=s=>s.profile?(0,c.jsxs)("div",{className:v,children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("a",{href:"#",className:g,children:(0,c.jsx)("img",{src:null==s.profile.photos.small?b:s.profile.photos.small,alt:"avatar"})}),(0,c.jsx)(S,{status:s.status,updateUserStatus:s.updateUserStatus})]}),(0,c.jsx)("div",{className:y,children:(0,c.jsx)("a",{href:"#",className:N,children:s.profile.fullName})})]}):(0,c.jsx)(P.Z,{}),C=s=>(0,c.jsxs)("div",{className:f,children:[(0,c.jsx)(U,{profile:s.profile,status:s.status,updateUserStatus:s.updateUserStatus}),(0,c.jsx)(j,{posts:s.posts,addPostCriator:s.addPostCriator})]});var k=e(7689),I=e(1154),M=e(2291);const B=s=>s.profilePage.profile,T=s=>s.profilePage.status,w=s=>s.auth.userId,L=s=>s.auth.isAuth;const R=(0,I.qC)((0,a.$j)((s=>({profile:B(s),status:T(s),autoRizedUserId:w(s),isAuth:L(s),posts:s.profilePage.posts})),{getProfileId:x.v4,getUserStatus:x.Tq,updateUserStatus:x.OL,addPostCriator:x.SM}),M.Z)((s=>{let{userId:t}=(0,k.UO)();return t||(t=s.autoRizedUserId),(0,o.useEffect)((()=>{s.getProfileId(t),s.getUserStatus(t)}),[t]),(0,c.jsx)(C,{...s})}))}}]);
//# sourceMappingURL=104.c885afcc.chunk.js.map