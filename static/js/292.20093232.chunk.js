"use strict";(self.webpackChunkreact_1=self.webpackChunkreact_1||[]).push([[292],{3292:(s,e,t)=>{t.r(e),t.d(e,{default:()=>as});var a=t(4420),o=t(2791),i=t(4294),r=t(7689),l=t(1154);const n=s=>s.profilePage.status,c=s=>s.auth.userId,d=s=>s.profilePage.posts,_=s=>s.profilePage.profile,u=s=>s.profilePage.isUpdateProgress,m=s=>s.infoPage.profileInfo,f="MyPosts_myPosts__ipCvj",h="MyPosts_newPost__RsHX5",p="MyPosts_posts__1iPHK",j="MyPosts_body__-MSdV",x="MyPosts_userPost__iubri",v="MyPosts_input__3wZFs",P="MyPosts_button__tROL6",g="MyPosts_errorSpan__xggnd",N="Post_post__2JC9L",b="Post_avatar__NyR4X",k="Post_body__QBbNz",y="Post_text__i9zxY",I="Post_likeBody__glNnR",F="Post_like__Z5l62",S="Post_likeIcon__oayR+";var M=t(184);const C=s=>s.profileMy.photos?(0,M.jsxs)("div",{className:N,children:[(0,M.jsx)("div",{className:b,children:(0,M.jsx)("img",{src:s.profileMy.photos.large||"",alt:""})}),(0,M.jsxs)("div",{className:k,children:[(0,M.jsx)("div",{className:y,children:s.message}),(0,M.jsxs)("div",{className:I,children:[(0,M.jsx)("div",{className:S}),(0,M.jsx)("button",{className:F,children:s.likeCounter})]})]})]}):null;const D=t.p+"static/media/userPost.208ec46e8e9313ceb7fb416af7feb965.svg";const A=t.p+"static/media/plus.51d1f7489a93626178e7c342bb4e1221.svg";var J=t(1418),G=t.n(J),O=t(1134),B=t(3085);const L=s=>{const e=(0,B.TL)(),{register:t,handleSubmit:a,formState:{errors:o}}=(0,O.cI)();return(0,M.jsx)("form",{onSubmit:a((s=>{e((0,i.q2)(s.post))})),children:(0,M.jsxs)("label",{htmlFor:"post",className:j,children:[(0,M.jsxs)("div",{className:v,children:[(0,M.jsx)("input",{...t("post",{required:"field is required",maxLength:{value:200,message:"max symbols 200"}}),className:G()(v)}),o.post&&(0,M.jsx)("span",{className:g,children:o.post.message})]}),(0,M.jsx)("button",{className:P,children:(0,M.jsx)("img",{src:A,alt:"icon"})}),(0,M.jsx)("div",{className:x,children:(0,M.jsx)("img",{src:D,alt:"icon"})})]})})},w=s=>{const e=(0,B.CG)(d),t=(0,B.CG)(m);let a=[...e].reverse().map((s=>(0,M.jsx)(C,{profileMy:t,message:s.message,likeCounter:s.likeCounter},s.id)));return(0,M.jsxs)("div",{className:f,children:[(0,M.jsx)("div",{className:h,children:(0,M.jsx)(L,{})}),(0,M.jsx)("div",{className:p,children:a})]})},U="Profile_profile__5Wt+s",q={profileInfo:"ProfileInfo_profileInfo__eYDtd",images:"ProfileInfo_images__7mz7y",fon:"ProfileInfo_fon__eMPru",avararBody:"ProfileInfo_avararBody__3dkHX",avatar:"ProfileInfo_avatar__KU7H-",changeAvatar:"ProfileInfo_changeAvatar__5691p",input:"ProfileInfo_input__SfwTM",body:"ProfileInfo_body__UihLj",top:"ProfileInfo_top__eQtPu",info:"ProfileInfo_info__ByPhh",name:"ProfileInfo_name__pcQIG",status:"ProfileInfo_status__J5VjU",button:"ProfileInfo_button__4WcsJ",statusSpan:"ProfileInfo_statusSpan__YWiab",LookingForAJob:"ProfileInfo_LookingForAJob__IKXQL",skilsBody:"ProfileInfo_skilsBody__Aq2eF",skils:"ProfileInfo_skils__yDuDh",contacts:"ProfileInfo_contacts__Ovk1g",contact:"ProfileInfo_contact__rQV39"};class E extends o.Component{constructor(){super(...arguments),this.state={editMode:!1,status:this.props.status},this.activateEditMode=()=>{this.setState({editMode:!0})},this.deactivateEditMode=()=>{this.setState({editMode:!1}),this.props.updateStatus(this.state.status)},this.onStatusChange=s=>{this.setState({status:s.currentTarget.value})}}componentDidUpdate(s,e){this.props.status!=s.status&&this.setState({status:this.props.status})}render(){return(0,M.jsxs)("div",{className:q.status,children:[!this.state.editMode&&(0,M.jsx)("div",{children:(0,M.jsx)("span",{className:q.statusSpan,onClick:this.activateEditMode,children:this.props.status||"------"})}),this.state.editMode&&(0,M.jsx)("div",{children:(0,M.jsx)("input",{className:q.statusInput,onChange:this.onStatusChange,autoFocus:!0,onBlur:this.deactivateEditMode,type:"text",value:this.state.status})})]})}}const T=E;var z=t(8478),Q=t(704),R=t(4377);const V={top:"ProfileDataForm_top__Gdqly",info:"ProfileDataForm_info__NXbIT",name:"ProfileDataForm_name__WiuA5",editName:"ProfileDataForm_editName__dB3UO",status:"ProfileDataForm_status__9SWje",button:"ProfileDataForm_button__n7v2I",lookingForAJob:"ProfileDataForm_lookingForAJob__T8k62",skils:"ProfileDataForm_skils__WVGPq",editSkils:"ProfileDataForm_editSkils__3fKwZ",contacts:"ProfileDataForm_contacts__M++Dd",title:"ProfileDataForm_title__ja1OU",elements:"ProfileDataForm_elements__Y0gah",contactBody:"ProfileDataForm_contactBody__z6QLt",contact:"ProfileDataForm_contact__QGH4q",editContact:"ProfileDataForm_editContact__dGGhn",elementForm:"ProfileDataForm_elementForm__2avd-"},K=s=>{let{contactsKey:e}=s;return(0,M.jsx)("div",{className:V.contactBody,children:(0,M.jsx)("div",{className:V.editContact,children:(0,R.Gr)(void 0,R.II,"contacts."+e,"".concat(e,"..."),[],void 0,void 0)})})},W=(0,Q.Z)({form:"profile"})((s=>{let{profile:e,status:t,updateStatus:a,handleSubmit:o,error:i}=s;return(0,M.jsx)("div",{className:V.profileDataForm,children:(0,M.jsxs)("form",{onSubmit:o,children:[(0,M.jsxs)("div",{className:V.top,children:[(0,M.jsxs)("div",{className:V.info,children:[(0,M.jsxs)("div",{className:V.name,children:[(0,M.jsx)("span",{children:"full name: "}),(0,M.jsx)("div",{className:V.editName,children:(0,R.Gr)(void 0,R.II,"fullName","fullName...",[],void 0,void 0)})]}),(0,M.jsx)("div",{className:V.status,children:(0,M.jsx)(T,{status:t,updateStatus:a})})]}),(0,M.jsx)("button",{className:V.button,children:"Save"})]}),(0,M.jsxs)("div",{className:V.lookingForAJob,children:[(0,M.jsx)("span",{children:"LookingForAJob:"}),"  ",e.lookingForAJob?"yes":"no",(0,R.Gr)(void 0,R.II,"lookingForAJob",void 0,[],"checkbox",void 0)]}),e.lookingForAJob&&(0,M.jsxs)("div",{className:V.skils,children:[(0,M.jsx)("span",{children:"My profesional skils:"}),(0,M.jsx)("div",{className:V.editSkils,children:(0,R.Gr)(void 0,R.II,"lookingForAJobDescription","my profesional skils...",[],void 0,void 0)})]}),(0,M.jsxs)("div",{className:V.contacts,children:[(0,M.jsx)("span",{className:V.title,children:"Contacts: "}),(0,M.jsx)("div",{className:V.elements,children:Object.keys(e.contacts).map((s=>(0,M.jsx)(K,{contactsKey:s})))})]}),(0,M.jsx)("div",{children:i&&(0,M.jsx)("div",{className:V.errorSome,children:i})})]})})}));var H=t(2498);const X=t.p+"static/media/camera.d4cdb06d1b08f39ba17e89903e77ed61.svg",Z=s=>{let{profile:e,status:t,updateStatus:a,isOwner:o,activateEditMode:i}=s;return(0,M.jsxs)("div",{children:[(0,M.jsxs)("div",{className:q.top,children:[(0,M.jsxs)("div",{className:q.info,children:[(0,M.jsx)("div",{className:q.name,children:e.fullName}),(0,M.jsx)("div",{className:q.status,children:(0,M.jsx)(T,{status:t,updateStatus:a})})]}),o&&(0,M.jsx)("button",{className:q.button,onClick:i,children:"Edit mode"})]}),(0,M.jsxs)("div",{className:q.LookingForAJob,children:[(0,M.jsx)("span",{children:"LookingForAJob:"}),"  ",e.lookingForAJob?"yes":"no"]}),(0,M.jsx)("div",{className:q.skils,children:e.lookingForAJob&&(0,M.jsxs)("div",{className:q.skilsBody,children:[(0,M.jsx)("span",{children:"My profesional skils:"}),(0,M.jsx)("span",{children:e.lookingForAJobDescription})]})}),(0,M.jsxs)("div",{className:q.contacts,children:[(0,M.jsx)("span",{children:"Contacts: "}),(0,M.jsx)("div",{className:q.contact,children:Object.keys(e.contacts).map((s=>(0,M.jsx)($,{contactTitle:s,contactValue:e.contacts[s]},s)))})]})]})},Y=s=>{let{profile:e,status:t,updateStatus:a,onSubmit:o}=s;return(0,M.jsx)(M.Fragment,{children:(0,M.jsx)(W,{initialValues:e,onSubmit:o,profile:e,status:t,updateStatus:a})})},$=s=>{let{contactTitle:e,contactValue:t}=s;return(0,M.jsxs)("div",{children:[(0,M.jsx)("span",{children:e}),": ",t]})},ss=s=>{const e=(0,B.TL)(),t=(0,B.CG)(n),a=(0,B.CG)(_),r=(0,B.CG)(u),l=s=>{e((0,i.OL)(s))};let[c,d]=(0,o.useState)(!1);if(!a)return null;return(0,M.jsxs)("div",{className:q.profileInfo,children:[(0,M.jsxs)("div",{className:q.images,children:[(0,M.jsx)("div",{className:q.fon,children:(0,M.jsx)("img",{src:H,alt:"fon"})}),(0,M.jsx)("div",{className:q.avatar,children:(0,M.jsx)("img",{src:null!=a.photos.small?a.photos.small:z,alt:"avatar"})}),(0,M.jsx)("label",{className:q.changeAvatar,htmlFor:"changeAvatar",children:(0,M.jsx)("img",{src:X,alt:"camera"})})]}),(0,M.jsxs)("div",{className:q.body,children:[s.isOwner&&(0,M.jsx)("input",{className:q.input,id:"changeAvatar",type:"file",onChange:s=>{s.target.files&&s.target.files.length&&e((0,i.UE)(s.target.files[0]))}}),(0,M.jsx)("div",{className:q.statusBody,children:c?(0,M.jsx)(Y,{onSubmit:s=>{r&&d(!1),e((0,i.ck)(s))},profile:a,status:t,updateStatus:l}):(0,M.jsx)(Z,{isOwner:s.isOwner,profile:a,status:t,updateStatus:l,activateEditMode:()=>{d(!0)}})})]})]})},es=s=>(0,M.jsxs)("div",{className:U,children:[(0,M.jsx)(ss,{isOwner:s.isOwner}),(0,M.jsx)(w,{})]});var ts=t(2932);const as=(0,l.qC)((0,a.$j)((s=>({autoRizedUserId:c(s)})),{requestUserStatus:i.vz,requestProfile:i.tg,profileMount:i.o3}),ts.Z)((s=>{let{userId:e}=(0,r.UO)(),t=e;return e||(e=String(s.autoRizedUserId)),(0,o.useEffect)((()=>(s.requestProfile(e),s.requestUserStatus(e),s.profileMount(!0),()=>{s.profileMount(!1)})),[e]),(0,M.jsx)(M.Fragment,{children:(0,M.jsx)(es,{isOwner:!t})})}))}}]);
//# sourceMappingURL=292.20093232.chunk.js.map