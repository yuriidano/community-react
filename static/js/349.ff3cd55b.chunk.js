"use strict";(self.webpackChunkreact_1=self.webpackChunkreact_1||[]).push([[349],{6349:(s,e,t)=>{t.r(e),t.d(e,{default:()=>es});var a=t(4420),o=t(2791);const i="MyPosts_myPosts__ipCvj",r="MyPosts_newPost__RsHX5",l="MyPosts_posts__1iPHK",n="MyPosts_body__-MSdV",c="MyPosts_userPost__iubri",d="MyPosts_input__3wZFs",u="MyPosts_button__tROL6";var _=t(2026);const f="Post_post__2JC9L",m="Post_avatar__NyR4X",p="Post_body__QBbNz",h="Post_text__i9zxY",j="Post_likeBody__glNnR",x="Post_like__Z5l62",P="Post_likeIcon__oayR+";var v=t(184);const N=s=>s.profileMy?(0,v.jsxs)("div",{className:f,children:[(0,v.jsx)("div",{className:m,children:(0,v.jsx)("img",{src:s.profileMy.photos.large,alt:""})}),(0,v.jsxs)("div",{className:p,children:[(0,v.jsx)("div",{className:h,children:s.message}),(0,v.jsxs)("div",{className:j,children:[(0,v.jsx)("div",{className:P}),(0,v.jsx)("button",{className:x,children:s.likeCounter})]})]})]}):(0,v.jsx)(_.Z,{});var b=t(704),g=t(5304),y=t(2318);const k=t.p+"static/media/plus.51d1f7489a93626178e7c342bb4e1221.svg";const I=t.p+"static/media/userPost.208ec46e8e9313ceb7fb416af7feb965.svg";let S=(0,g.B)(200);const F=(0,b.Z)({form:"myPost"})((s=>(0,v.jsx)("form",{onSubmit:s.handleSubmit,children:(0,v.jsxs)("label",{for:"post",className:n,children:[(0,v.jsx)("div",{className:d,children:(0,y.Gr)(null,y.II,"myPosBody","What's on your mind?",[g.C,S],null,"post")}),(0,v.jsx)("button",{className:u,children:(0,v.jsx)("img",{src:k,alt:"icon"})}),(0,v.jsx)("div",{className:c,children:(0,v.jsx)("img",{src:I,alt:"icon"})})]})}))),U=s=>{let e=[...s.posts].reverse().map((e=>(0,v.jsx)(N,{profileMy:s.profileMy,message:e.message,likeCounter:e.likeCounter},e.id)));return(0,v.jsxs)("div",{className:i,children:[(0,v.jsx)("div",{className:r,children:(0,v.jsx)(F,{onSubmit:e=>{s.addPostCriator(e.myPosBody)}})}),(0,v.jsx)("div",{className:l,children:e})]})},A="Profile_profile__5Wt+s",M={profileInfo:"ProfileInfo_profileInfo__eYDtd",images:"ProfileInfo_images__7mz7y",fon:"ProfileInfo_fon__eMPru",avararBody:"ProfileInfo_avararBody__3dkHX",avatar:"ProfileInfo_avatar__KU7H-",changeAvatar:"ProfileInfo_changeAvatar__5691p",input:"ProfileInfo_input__SfwTM",body:"ProfileInfo_body__UihLj",top:"ProfileInfo_top__eQtPu",info:"ProfileInfo_info__ByPhh",name:"ProfileInfo_name__pcQIG",status:"ProfileInfo_status__J5VjU",button:"ProfileInfo_button__4WcsJ",statusSpan:"ProfileInfo_statusSpan__YWiab",LookingForAJob:"ProfileInfo_LookingForAJob__IKXQL",skils:"ProfileInfo_skils__yDuDh",contacts:"ProfileInfo_contacts__Ovk1g",contact:"ProfileInfo_contact__rQV39"};const C=s=>{let[e,t]=(0,o.useState)(!1),[a,i]=(0,o.useState)(s.status);(0,o.useEffect)((()=>{i(s.status)}),[s.status]);return(0,v.jsxs)("div",{className:M.status,children:[!e&&(0,v.jsx)("div",{children:(0,v.jsx)("span",{className:M.statusSpan,onClick:()=>{t(!0)},children:s.status||"------"})}),e&&(0,v.jsx)("div",{children:(0,v.jsx)("input",{className:M.statusInput,onChange:s=>{i(s.currentTarget.value)},autoFocus:!0,onBlur:()=>{t(!1),s.updateUserStatus(a)},type:"text",value:a})})]})};var D=t(8478);const J={top:"ProfileDataForm_top__Gdqly",info:"ProfileDataForm_info__NXbIT",name:"ProfileDataForm_name__WiuA5",editName:"ProfileDataForm_editName__dB3UO",status:"ProfileDataForm_status__9SWje",button:"ProfileDataForm_button__n7v2I",lookingForAJob:"ProfileDataForm_lookingForAJob__T8k62",skils:"ProfileDataForm_skils__WVGPq",editSkils:"ProfileDataForm_editSkils__3fKwZ",contacts:"ProfileDataForm_contacts__M++Dd",title:"ProfileDataForm_title__ja1OU",elements:"ProfileDataForm_elements__Y0gah",contactBody:"ProfileDataForm_contactBody__z6QLt",contact:"ProfileDataForm_contact__QGH4q",editContact:"ProfileDataForm_editContact__dGGhn"},O=s=>{let{contactsKey:e}=s;return(0,v.jsx)("div",{className:J.contactBody,children:(0,v.jsx)("div",{className:J.editContact,children:(0,y.Gr)(null,y.II,"contacts."+e,"".concat(e,"..."),[],null)})})},q=(0,b.Z)({form:"profile"})((s=>{let{profile:e,status:t,updateUserStatus:a,handleSubmit:o,error:i}=s;return(0,v.jsx)("div",{className:J.profileDataForm,children:(0,v.jsxs)("form",{onSubmit:o,children:[(0,v.jsxs)("div",{className:J.top,children:[(0,v.jsxs)("div",{className:J.info,children:[(0,v.jsxs)("div",{className:J.name,children:[(0,v.jsx)("span",{children:"full name: "}),(0,v.jsx)("div",{className:J.editName,children:(0,y.Gr)(null,y.II,"fullName","fullName...",[],null)})]}),(0,v.jsx)("div",{className:J.status,children:(0,v.jsx)(C,{status:t,updateUserStatus:a})})]}),(0,v.jsx)("button",{className:J.button,children:"Save"})]}),(0,v.jsxs)("div",{className:J.lookingForAJob,children:[(0,v.jsx)("span",{children:"LookingForAJob:"}),"  ",e.lookingForAJob?"yes":"no",(0,y.Gr)(null,y.II,"lookingForAJob",null,[],"checkbox")]}),e.lookingForAJob&&(0,v.jsxs)("div",{className:J.skils,children:[(0,v.jsx)("span",{children:"My profesional skils:"}),(0,v.jsx)("div",{className:J.editSkils,children:(0,y.Gr)(null,y.II,"lookingForAJobDescription","my profesional skils...",[],null)})]}),(0,v.jsxs)("div",{className:J.contacts,children:[(0,v.jsx)("span",{className:J.title,children:"Contacts: "}),(0,v.jsx)("div",{className:J.elements,children:Object.keys(e.contacts).map((s=>(0,v.jsx)(O,{contactsKey:s})))})]}),(0,v.jsx)("div",{children:i&&(0,v.jsx)("div",{className:J.errorSome,children:i})})]})})}));var B=t(2498);const w=t.p+"static/media/camera.d4cdb06d1b08f39ba17e89903e77ed61.svg",G=s=>{let{profile:e,status:t,updateUserStatus:a,isOwner:o,activateEditMode:i}=s;return(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:M.top,children:[(0,v.jsxs)("div",{className:M.info,children:[(0,v.jsx)("div",{className:M.name,children:e.fullName}),(0,v.jsx)("div",{className:M.status,children:(0,v.jsx)(C,{status:t,updateUserStatus:a})})]}),o&&(0,v.jsx)("button",{className:M.button,onClick:i,children:"Edit mode"})]}),(0,v.jsxs)("div",{className:M.LookingForAJob,children:[(0,v.jsx)("span",{children:"LookingForAJob:"}),"  ",e.lookingForAJob?"yes":"no"]}),(0,v.jsx)("div",{className:M.skils,children:e.lookingForAJob&&(0,v.jsxs)("div",{children:[(0,v.jsx)("span",{children:"My profesional skils:"}),"  ",e.lookingForAJobDescription]})}),(0,v.jsxs)("div",{className:M.contacts,children:[(0,v.jsx)("span",{children:"Contacts: "}),(0,v.jsx)("div",{className:M.contact,children:Object.keys(e.contacts).map((s=>(0,v.jsx)(Z,{contactTitle:s,contactValue:e.contacts[s]},s)))})]})]})},L=s=>{let{profile:e,status:t,updateUserStatus:a,onSubmit:o}=s;return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(q,{initialValues:e,onSubmit:o,profile:e,status:t,updateUserStatus:a,contacts:Z})})},Z=s=>{let{contactTitle:e,contactValue:t}=s;return(0,v.jsxs)("div",{children:[(0,v.jsx)("span",{children:e}),": ",t]})},z=s=>{let[e,t]=(0,o.useState)(!1);if(!s.profile)return(0,v.jsx)(_.Z,{});return(0,v.jsxs)("div",{className:M.profileInfo,children:[(0,v.jsxs)("div",{className:M.images,children:[(0,v.jsx)("div",{className:M.fon,children:(0,v.jsx)("img",{src:B,alt:"fon"})}),(0,v.jsx)("div",{className:M.avatar,children:(0,v.jsx)("img",{src:null!=s.profile.photos.small?s.profile.photos.small:D,alt:"avatar"})}),(0,v.jsx)("label",{className:M.changeAvatar,for:"changeAvatar",children:(0,v.jsx)("img",{src:w,alt:"camera"})})]}),(0,v.jsxs)("div",{className:M.body,children:[s.isOwner&&(0,v.jsx)("input",{className:M.input,id:"changeAvatar",type:"file",onChange:e=>{e.target.files.length&&s.requestPhoto(e.target.files[0])}}),(0,v.jsx)("div",{className:M.statusBody,children:e?(0,v.jsx)(L,{onSubmit:e=>{s.updateProfile(e),s.isUpdateProgress&&t(!1)},profile:s.profile,status:s.status,updateUserStatus:s.updateUserStatus}):(0,v.jsx)(G,{isOwner:s.isOwner,profile:s.profile,status:s.status,updateUserStatus:s.updateUserStatus,activateEditMode:()=>{t(!0)}})})]})]})},Q=s=>(0,v.jsxs)("div",{className:A,children:[(0,v.jsx)(z,{status:s.status,updateUserStatus:s.updateUserStatus,profile:s.profile,isOwner:s.isOwner,requestPhoto:s.requestPhoto,updateProfile:s.updateProfile,isUpdateProgress:s.isUpdateProgress}),(0,v.jsx)(U,{posts:s.posts,addPostCriator:s.addPostCriator,profileMy:s.profileMy})]});var R=t(6070),V=t(7689),W=t(1154),E=t(2291);const K=s=>s.profilePage.status,T=s=>s.auth.userId,H=s=>s.auth.isAuth,X=s=>s.profilePage.posts,Y=s=>s.profilePage.profile,$=s=>s.profilePage.isUpdateProgress,ss=s=>s.infoPage.profileInfo;const es=(0,W.qC)((0,a.$j)((s=>({status:K(s),autoRizedUserId:T(s),isAuth:H(s),posts:X(s),profile:Y(s),isUpdateProgress:$(s),profileMy:ss(s)})),{requestUserStatus:R.vz,updateUserStatus:R.OL,addPostCriator:R.SM,requestProfile:R.tg,requestPhoto:R.UE,updateProfile:R.ck}),E.Z)((s=>{let{userId:e}=(0,V.UO)(),t=e;return e||(e=s.autoRizedUserId),(0,o.useEffect)((()=>{s.requestProfile(e),s.requestUserStatus(e)}),[e]),(0,v.jsx)(Q,{...s,isOwner:!t,requestPhoto:s.requestPhoto,updateProfile:s.updateProfile})}))}}]);
//# sourceMappingURL=349.ff3cd55b.chunk.js.map