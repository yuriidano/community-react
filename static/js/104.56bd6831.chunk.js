"use strict";(self.webpackChunkreact_1=self.webpackChunkreact_1||[]).push([[104],{1104:(s,t,e)=>{e.r(t),e.d(t,{default:()=>R});var a=e(4420),o=e(2791);const r={postsTitle:"MyPosts_postsTitle__MOU-g",newPost:"MyPosts_newPost__RsHX5",area:"MyPosts_area__LXBtG",button:"MyPosts_button__tROL6",posts:"MyPosts_posts__1iPHK"},i="Post_post__2JC9L",n="Post_body__QBbNz",l="Post_avatar__NyR4X",d="Post_text__i9zxY",u="Post_button__N8b6e";var c=e(184);const _=s=>(0,c.jsxs)("div",{className:i,children:[(0,c.jsxs)("div",{className:n,children:[(0,c.jsx)("div",{className:l,children:(0,c.jsx)("img",{src:"https://mighty.tools/mockmind-api/content/human/57.jpg",alt:"avatar"})}),(0,c.jsx)("div",{className:d,children:s.message})]}),(0,c.jsxs)("button",{className:u,children:["like",s.likeCounter]})]});var p=e(6139);const h=(0,e(704).Z)({form:"myPost"})((s=>(0,c.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,c.jsx)("div",{children:(0,c.jsx)(p.Z,{component:"textarea",name:"myPosBody"})}),(0,c.jsx)("button",{children:"sent post"})]}))),m=o.memo((s=>{let[t,e]=(0,o.useState)(33),a=[...s.posts].reverse().map((s=>(0,c.jsx)(_,{message:s.message,likeCounter:s.likeCounter},s.id)));return(0,c.jsxs)("div",{className:r.body,children:[(0,c.jsx)("div",{className:r.postsTitle,children:"My posts"}),(0,c.jsx)("div",{className:r.newPost,children:(0,c.jsx)(h,{onSubmit:t=>{s.addPost(t.myPosBody)}})}),(0,c.jsx)("div",{className:r.posts,children:a})]})}));var j=e(6070);const x=(0,a.$j)((s=>({posts:s.profilePage.posts})),(s=>({addPost:t=>{s((0,j.SM)(t))}})))(m),P="Profile_profile__5Wt+s";var f=e(2026);const v="ProfileInfo_body__UihLj",y="ProfileInfo_avatar__KU7H-",N="ProfileInfo_info__ByPhh",g="ProfileInfo_name__pcQIG";const b=s=>{let[t,e]=(0,o.useState)(!1),[a,r]=(0,o.useState)(s.status);(0,o.useEffect)((()=>{r(s.status)}),[s.status]);return(0,c.jsxs)(c.Fragment,{children:[!t&&(0,c.jsx)("div",{children:(0,c.jsx)("span",{onClick:()=>{e(!0)},style:{backgroundColor:"gray"},children:s.status||"------"})}),t&&(0,c.jsx)("div",{children:(0,c.jsx)("input",{onChange:s=>{r(s.currentTarget.value)},autoFocus:!0,onBlur:()=>{e(!1),s.updateUserStatus(a)},type:"text",value:a})})]})},S=s=>s.profile?(0,c.jsxs)("div",{className:v,children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("a",{href:"#",className:y}),(0,c.jsx)(b,{status:s.status,updateUserStatus:s.updateUserStatus})]}),(0,c.jsx)("div",{className:N,children:(0,c.jsx)("a",{href:"#",className:g,children:s.profile.fullName})})]}):(0,c.jsx)(f.Z,{}),U=s=>(0,c.jsxs)("div",{className:P,children:[(0,c.jsx)(S,{status:s.status,updateUserStatus:s.updateUserStatus}),(0,c.jsx)(x,{posts:s.posts,addPostCriator:s.addPostCriator})]});var C=e(7689),k=e(1154),I=e(2291);const M=s=>s.profilePage.status,B=s=>s.auth.userId,w=s=>s.auth.isAuth,L=s=>s.profilePage.posts;const R=(0,k.qC)((0,a.$j)((s=>({status:M(s),autoRizedUserId:B(s),isAuth:w(s),posts:L(s)})),{getUserStatus:j.Tq,updateUserStatus:j.OL,addPostCriator:j.SM}),I.Z)((s=>{let{userId:t}=(0,C.UO)();return t||(t=s.autoRizedUserId),(0,o.useEffect)((()=>{s.getUserStatus(t)}),[t]),(0,c.jsx)(U,{...s})}))}}]);
//# sourceMappingURL=104.56bd6831.chunk.js.map